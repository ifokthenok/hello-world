@startuml
hide footbox
participant Main            as main
participant ArgumentParser  as argument
participant ErrorChecker    as checker
participant ErrorCollector      as db
participant Output          as out

main -> argument: parse(arguments)
argument -> argument: resolve arguments\ncheck files permisson\nget verbose level
main <-- argument: [files, verbose level]
main -> db: setVerboseLevel(verbose level)
main <--db: setVerboseLevel() done
...
loop file in files
main -> checker: checkFile(file)
loop checker in error checkers
checker -> checker: call checker to check file
alt checker find errors
checker -> db: reportError(errors)
db -> db: record errors
checker <-- db:reportError() done
end
end
main <-- checker: checkFile() done
end
...
main -> out: printError()
out -> db: getErrors()
out <-- db: getErrors() done
out -> out: write errors to stderr
main <-- out: printError() done.
@enduml
